{"ast":null,"code":"export function insertToDatabase(db, table, data) {\n  var transaction = db.transaction([table], \"readwrite\");\n\n  transaction.oncomplete = function (event) {\n    console.log(\"All done!\");\n  };\n\n  transaction.onerror = function (event) {\n    // Generic error handler for all errors targeted at this database's request\n    console.error(\"Database error: \" + event.target.errorCode);\n  };\n\n  var objectStore = transaction.objectStore(table);\n  var request = objectStore.add(data);\n\n  request.onsuccess = function (event) {};\n}\nexport function databaseGetAll(db) {\n  var transaction = db.transaction('log', 'readonly');\n  var objectStore = transaction.objectStore('log');\n\n  objectStore.getAll().onsuccess = function (event) {\n    return event.target.result;\n  };\n}\nexport function playSound(sound) {\n  var msg = new SpeechSynthesisUtterance(sound);\n  window.speechSynthesis.speak(msg);\n}\nexport function logData(log) {\n  // Send log to server\n  fetch('/api/log', {\n    method: 'POST',\n    body: JSON.stringify(log),\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  }).then(response => response.json()).then(data => {\n    console.log(data);\n  });\n}\nexport function formatEpoch(seconds) {\n  var date = new Date(0);\n  date.setSeconds(seconds);\n  return date.toISOString().substr(11, 8);\n  return \"\";\n}","map":{"version":3,"sources":["/Users/vascoxu/Desktop/smash/Mohs/frontend/src/Components/helpers.js"],"names":["insertToDatabase","db","table","data","transaction","oncomplete","event","console","log","onerror","error","target","errorCode","objectStore","request","add","onsuccess","databaseGetAll","getAll","result","playSound","sound","msg","SpeechSynthesisUtterance","window","speechSynthesis","speak","logData","fetch","method","body","JSON","stringify","headers","then","response","json","formatEpoch","seconds","date","Date","setSeconds","toISOString","substr"],"mappings":"AAAA,OAAO,SAASA,gBAAT,CAA0BC,EAA1B,EAA8BC,KAA9B,EAAqCC,IAArC,EAA2C;AAChD,MAAIC,WAAW,GAAGH,EAAE,CAACG,WAAH,CAAe,CAACF,KAAD,CAAf,EAAwB,WAAxB,CAAlB;;AAEAE,EAAAA,WAAW,CAACC,UAAZ,GAAyB,UAASC,KAAT,EAAgB;AACvCC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD,GAFD;;AAIAJ,EAAAA,WAAW,CAACK,OAAZ,GAAsB,UAASH,KAAT,EAAgB;AACpC;AACAC,IAAAA,OAAO,CAACG,KAAR,CAAc,qBAAqBJ,KAAK,CAACK,MAAN,CAAaC,SAAhD;AACD,GAHD;;AAKA,MAAIC,WAAW,GAAGT,WAAW,CAACS,WAAZ,CAAwBX,KAAxB,CAAlB;AACA,MAAIY,OAAO,GAAGD,WAAW,CAACE,GAAZ,CAAgBZ,IAAhB,CAAd;;AACAW,EAAAA,OAAO,CAACE,SAAR,GAAoB,UAASV,KAAT,EAAgB,CACnC,CADD;AAED;AAED,OAAO,SAASW,cAAT,CAAwBhB,EAAxB,EAA4B;AACjC,MAAIG,WAAW,GAAGH,EAAE,CAACG,WAAH,CAAe,KAAf,EAAsB,UAAtB,CAAlB;AACA,MAAIS,WAAW,GAAGT,WAAW,CAACS,WAAZ,CAAwB,KAAxB,CAAlB;;AACAA,EAAAA,WAAW,CAACK,MAAZ,GAAqBF,SAArB,GAAiC,UAASV,KAAT,EAAgB;AAC/C,WAAOA,KAAK,CAACK,MAAN,CAAaQ,MAApB;AACD,GAFD;AAGD;AAED,OAAO,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAC/B,MAAIC,GAAG,GAAG,IAAIC,wBAAJ,CAA6BF,KAA7B,CAAV;AACAG,EAAAA,MAAM,CAACC,eAAP,CAAuBC,KAAvB,CAA6BJ,GAA7B;AACD;AAED,OAAO,SAASK,OAAT,CAAiBnB,GAAjB,EAAsB;AACzB;AACAoB,EAAAA,KAAK,CAAC,UAAD,EAAa;AAChBC,IAAAA,MAAM,EAAE,MADQ;AAEhBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAexB,GAAf,CAFU;AAGhByB,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB;AAFT;AAHO,GAAb,CAAL,CAQCC,IARD,CAQMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EARlB,EASCF,IATD,CASM/B,IAAI,IAAI;AACZI,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACD,GAXD;AAYH;AAED,OAAO,SAASkC,WAAT,CAAqBC,OAArB,EAA8B;AACnC,MAAIC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAAT,CAAX;AACAD,EAAAA,IAAI,CAACE,UAAL,CAAgBH,OAAhB;AACA,SAAOC,IAAI,CAACG,WAAL,GAAmBC,MAAnB,CAA0B,EAA1B,EAA8B,CAA9B,CAAP;AACA,SAAO,EAAP;AACD","sourcesContent":["export function insertToDatabase(db, table, data) {\n  var transaction = db.transaction([table], \"readwrite\");\n\n  transaction.oncomplete = function(event) {\n    console.log(\"All done!\");\n  };\n\n  transaction.onerror = function(event) {\n    // Generic error handler for all errors targeted at this database's request\n    console.error(\"Database error: \" + event.target.errorCode);    \n  };\n\n  var objectStore = transaction.objectStore(table);\n  var request = objectStore.add(data);\n  request.onsuccess = function(event) {\n  }\n}\n\nexport function databaseGetAll(db) {\n  var transaction = db.transaction('log', 'readonly');\n  var objectStore = transaction.objectStore('log');\n  objectStore.getAll().onsuccess = function(event) {\n    return event.target.result\n  };\n}\n\nexport function playSound(sound) {\n  var msg = new SpeechSynthesisUtterance(sound);\n  window.speechSynthesis.speak(msg);\n}\n\nexport function logData(log) {\n    // Send log to server\n    fetch('/api/log', {\n      method: 'POST',\n      body: JSON.stringify(log),\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n    })\n    .then(response => response.json())\n    .then(data => {\n      console.log(data);\n    });\n}\n\nexport function formatEpoch(seconds) {\n  var date = new Date(0);\n  date.setSeconds(seconds);\n  return date.toISOString().substr(11, 8);\n  return \"\";\n}"]},"metadata":{},"sourceType":"module"}