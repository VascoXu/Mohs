{"ast":null,"code":"var _jsxFileName = \"/Users/vascoxu/Desktop/smash/mohs/frontend/src/Components/Questions/Questions.js\";\nimport React, { Component } from \"react\";\nimport Question from './Question';\nimport \"../../App.css\";\nimport \"./Questions.css\";\n\nclass Questions extends Component {\n  constructor(props) {\n    super(props);\n\n    this.recordTime = () => {\n      var timeElapsed = new Date().toLocaleTimeString();\n      console.log(timeElapsed);\n    };\n\n    this.startRecording = stream => {\n      // Start recording\n      this.mediaRecorder = new MediaRecorder(stream);\n      this.mediaRecorder.start(); // Start visualizing audio\n\n      this.visualize(stream);\n      console.log(this.mediaRecorder.state);\n      console.log(\"recorder started\");\n      var dat = this;\n\n      this.mediaRecorder.ondataavailable = function (e) {\n        dat.chunks.push(e.data);\n      };\n    };\n\n    this.visualize = stream => {\n      const canvas = document.querySelector('.visualizer');\n      const canvasCtx = canvas.getContext(\"2d\");\n      let audioCtx;\n\n      if (!audioCtx) {\n        audioCtx = new AudioContext();\n      }\n\n      const source = audioCtx.createMediaStreamSource(stream);\n      const analyser = audioCtx.createAnalyser();\n      analyser.fftSize = 2048;\n      const bufferLength = analyser.frequencyBinCount;\n      const dataArray = new Uint8Array(bufferLength);\n      source.connect(analyser); //analyser.connect(audioCtx.destination);\n\n      draw();\n\n      function draw() {\n        const WIDTH = canvas.width;\n        const HEIGHT = canvas.height;\n        requestAnimationFrame(draw);\n        analyser.getByteTimeDomainData(dataArray);\n        canvasCtx.fillStyle = 'rgb(200, 200, 200)';\n        canvasCtx.fillRect(0, 0, WIDTH, HEIGHT);\n        canvasCtx.lineWidth = 2;\n        canvasCtx.strokeStyle = 'rgb(0, 0, 0)';\n        canvasCtx.beginPath();\n        let sliceWidth = WIDTH * 1.0 / bufferLength;\n        let x = 0;\n\n        for (let i = 0; i < bufferLength; i++) {\n          let v = dataArray[i] / 128.0;\n          let y = v * HEIGHT / 2;\n\n          if (i === 0) {\n            canvasCtx.moveTo(x, y);\n          } else {\n            canvasCtx.lineTo(x, y);\n          }\n\n          x += sliceWidth;\n        }\n\n        canvasCtx.lineTo(canvas.width, canvas.height / 2);\n        canvasCtx.stroke();\n      }\n    };\n\n    this.stopRecording = e => {\n      // Stop and save the recording\n      const soundClips = document.querySelector('.sound-clips');\n      console.log(\"recorder onstopped\");\n      const clipName = prompt('Enter a name for your sound clip');\n      const clipContainer = document.createElement('article');\n      const clipLabel = document.createElement('p');\n      const audio = document.createElement('audio');\n      const deleteButton = document.createElement('button');\n      clipContainer.classList.add('clip');\n      audio.setAttribute('controls', '');\n      deleteButton.innerHTML = \"Delete\";\n      clipLabel.innerHTML = clipName;\n      clipContainer.appendChild(audio);\n      clipContainer.appendChild(clipLabel);\n      clipContainer.appendChild(deleteButton);\n      soundClips.appendChild(clipContainer);\n      const blob = new Blob(this.chunks, {\n        'type': 'audio/ogg; codecs=opus'\n      });\n      this.chunks = [];\n      const audioURL = window.URL.createObjectURL(blob);\n      audio.src = audioURL;\n\n      deleteButton.onclick = function (e) {\n        let evtTgt = e.target;\n        evtTgt.parentNode.parentNode.removeChild(evtTgt.parentNode);\n      };\n    };\n\n    this.stop = () => {\n      // Stop recording\n      this.mediaRecorder.stop();\n      console.log(this.mediaRecorder.state);\n      console.log(\"recorder stopped\");\n\n      this.mediaRecorder.onstop = e => this.stopRecording(e);\n    };\n\n    this.mediaRecorder = {};\n    this.chunks = [];\n  }\n\n  render() {\n    const questions = [\"Can I use Purell/hand sanitizer?\", \"How long do I wash my hands for?\", \"How long do I keep the band-aid for?\", \"Unanswerable\"];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container full-height mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }, \"Questions\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }), questions.map((question, i) => /*#__PURE__*/React.createElement(Question, {\n      key: i,\n      data_index: i + 1,\n      question: question,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.recordTime,\n      className: \"btn shadow ml-3 btn-dark btn-lg light-border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, \"Reply\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.recordTime,\n      className: \"btn shadow ml-3 btn-dark btn-lg light-border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, \"Repeat\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.recordTime,\n      className: \"btn shadow ml-3 btn-dark btn-lg light-border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, \"Done\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fixed-bottom ml-3 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      className: \"bi bi-mic-fill\",\n      width: \"3em\",\n      height: \"3em\",\n      viewBox: \"0 0 16 16\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0V3z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"canvas\", {\n      className: \"visualizer\",\n      height: \"60px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default Questions;","map":{"version":3,"sources":["/Users/vascoxu/Desktop/smash/mohs/frontend/src/Components/Questions/Questions.js"],"names":["React","Component","Question","Questions","constructor","props","recordTime","timeElapsed","Date","toLocaleTimeString","console","log","startRecording","stream","mediaRecorder","MediaRecorder","start","visualize","state","dat","ondataavailable","e","chunks","push","data","canvas","document","querySelector","canvasCtx","getContext","audioCtx","AudioContext","source","createMediaStreamSource","analyser","createAnalyser","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","connect","draw","WIDTH","width","HEIGHT","height","requestAnimationFrame","getByteTimeDomainData","fillStyle","fillRect","lineWidth","strokeStyle","beginPath","sliceWidth","x","i","v","y","moveTo","lineTo","stroke","stopRecording","soundClips","clipName","prompt","clipContainer","createElement","clipLabel","audio","deleteButton","classList","add","setAttribute","innerHTML","appendChild","blob","Blob","audioURL","window","URL","createObjectURL","src","onclick","evtTgt","target","parentNode","removeChild","stop","onstop","render","questions","map","question"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Question from './Question'\nimport \"../../App.css\";\nimport \"./Questions.css\";\n\n\nclass Questions extends Component {\n\n  constructor(props) {\n    super(props);\n    this.mediaRecorder = {};\n    this.chunks = [];\n  }\n\n  recordTime = () => {\n    var timeElapsed = new Date().toLocaleTimeString();\n    console.log(timeElapsed);\n  }\n\n  startRecording = (stream) => {\n    // Start recording\n    this.mediaRecorder = new MediaRecorder(stream);\n    this.mediaRecorder.start();\n\n    // Start visualizing audio\n    this.visualize(stream);\n\n    console.log(this.mediaRecorder.state);\n    console.log(\"recorder started\");\n\n    var dat = this;\n    this.mediaRecorder.ondataavailable = function(e) {\n      dat.chunks.push(e.data);\n    }\n  }\n\n\n  visualize = (stream) => {\n    const canvas = document.querySelector('.visualizer');\n    const canvasCtx = canvas.getContext(\"2d\");\n    let audioCtx;\n\n    if(!audioCtx) {\n      audioCtx = new AudioContext();\n    }\n  \n    const source = audioCtx.createMediaStreamSource(stream);\n  \n    const analyser = audioCtx.createAnalyser();\n    analyser.fftSize = 2048;\n    const bufferLength = analyser.frequencyBinCount;\n    const dataArray = new Uint8Array(bufferLength);\n  \n    source.connect(analyser);\n    //analyser.connect(audioCtx.destination);\n  \n    draw()\n  \n    function draw() {\n      const WIDTH = canvas.width\n      const HEIGHT = canvas.height;\n  \n      requestAnimationFrame(draw);\n  \n      analyser.getByteTimeDomainData(dataArray);\n  \n      canvasCtx.fillStyle = 'rgb(200, 200, 200)';\n      canvasCtx.fillRect(0, 0, WIDTH, HEIGHT);\n  \n      canvasCtx.lineWidth = 2;\n      canvasCtx.strokeStyle = 'rgb(0, 0, 0)';\n  \n      canvasCtx.beginPath();\n  \n      let sliceWidth = WIDTH * 1.0 / bufferLength;\n      let x = 0;\n  \n  \n      for(let i = 0; i < bufferLength; i++) {\n  \n        let v = dataArray[i] / 128.0;\n        let y = v * HEIGHT/2;\n  \n        if(i === 0) {\n          canvasCtx.moveTo(x, y);\n        } else {\n          canvasCtx.lineTo(x, y);\n        }\n  \n        x += sliceWidth;\n      }\n  \n      canvasCtx.lineTo(canvas.width, canvas.height/2);\n      canvasCtx.stroke();\n  \n    }\n  }\n\n  stopRecording = (e) => {\n    // Stop and save the recording\n    const soundClips = document.querySelector('.sound-clips');\n\n    console.log(\"recorder onstopped\");\n    \n    const clipName = prompt('Enter a name for your sound clip');\n  \n    const clipContainer = document.createElement('article');\n    const clipLabel = document.createElement('p');\n    const audio = document.createElement('audio');\n    const deleteButton = document.createElement('button');\n             \n    clipContainer.classList.add('clip');\n    audio.setAttribute('controls', '');\n    deleteButton.innerHTML = \"Delete\";\n    clipLabel.innerHTML = clipName;\n  \n    clipContainer.appendChild(audio);\n    clipContainer.appendChild(clipLabel);\n    clipContainer.appendChild(deleteButton);\n    soundClips.appendChild(clipContainer);\n    \n    const blob = new Blob(this.chunks, { 'type' : 'audio/ogg; codecs=opus' });\n    this.chunks = [];\n    const audioURL = window.URL.createObjectURL(blob);\n    audio.src = audioURL;\n  \n    deleteButton.onclick = function(e) {\n      let evtTgt = e.target;\n      evtTgt.parentNode.parentNode.removeChild(evtTgt.parentNode);\n    }\n  }\n\n  stop = () => {\n    // Stop recording\n    this.mediaRecorder.stop();\n    console.log(this.mediaRecorder.state);\n    console.log(\"recorder stopped\");\n    this.mediaRecorder.onstop = (e) => this.stopRecording(e);\n  }\n\n  render() {\n    const questions = [\n      \"Can I use Purell/hand sanitizer?\", \n      \"How long do I wash my hands for?\",\n      \"How long do I keep the band-aid for?\",\n      \"Unanswerable\"\n    ];\n\n    return (\n      <div className=\"container full-height mt-2\">\n        <h2 className=\"text-center\">Questions</h2>\n        <hr/>\n        {questions.map((question, i) => \n            <Question key={i} data_index={i+1} question={question}></Question>\n        )}\n        <div className=\"container text-center mt-5\">\n              <button type=\"button\" onClick={this.recordTime} className=\"btn shadow ml-3 btn-dark btn-lg light-border\">Reply</button>\n              <button type=\"button\" onClick={this.recordTime} className=\"btn shadow ml-3 btn-dark btn-lg light-border\">Repeat</button>\n              <button type=\"button\" onClick={this.recordTime} className=\"btn shadow ml-3 btn-dark btn-lg light-border\">Done</button>\n        </div>\n        \n        <div className=\"fixed-bottom ml-3 mb-3\">\n          <button type=\"button\" className=\"btn btn-light\">\n            <svg className=\"bi bi-mic-fill\" width=\"3em\" height=\"3em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0V3z\"/>\n              <path fill-rule=\"evenodd\" d=\"M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z\"/>\n            </svg>\n          </button>\n          <canvas className=\"visualizer\" height=\"60px\"></canvas>\n        </div>\n\n\n      </div>\n    );\n\n\n  }\n}\n\nexport default Questions;"]},"metadata":{},"sourceType":"module"}