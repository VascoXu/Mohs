{"ast":null,"code":"export function insertToDatabase(db, data) {\n  var transaction = db.transaction([\"log\"], \"readwrite\");\n\n  transaction.oncomplete = function (event) {\n    console.log(\"All done!\");\n  };\n\n  transaction.onerror = function (event) {\n    // Generic error handler for all errors targeted at this database's request\n    console.error(\"Database error: \" + event.target.errorCode);\n  };\n\n  var objectStore = transaction.objectStore(\"log\");\n  var request = objectStore.add(data);\n\n  request.onsuccess = function (event) {};\n}\nexport function databaseGetAll(db) {\n  var transaction = this.props.db.transaction('log', 'readonly');\n  var objectStore = transaction.objectStore('log');\n\n  objectStore.getAll().onsuccess = function (event) {\n    return event.target.result;\n  };\n}\nexport function formatEpoch(seconds) {\n  var date = new Date(0);\n  date.setSeconds(seconds);\n  return date.toISOString().substr(11, 8);\n}","map":{"version":3,"sources":["/Users/vascoxu/Desktop/smash/mohs/frontend/src/Components/helpers.js"],"names":["insertToDatabase","db","data","transaction","oncomplete","event","console","log","onerror","error","target","errorCode","objectStore","request","add","onsuccess","databaseGetAll","props","getAll","result","formatEpoch","seconds","date","Date","setSeconds","toISOString","substr"],"mappings":"AAAA,OAAO,SAASA,gBAAT,CAA0BC,EAA1B,EAA8BC,IAA9B,EAAoC;AACzC,MAAIC,WAAW,GAAGF,EAAE,CAACE,WAAH,CAAe,CAAC,KAAD,CAAf,EAAwB,WAAxB,CAAlB;;AAEAA,EAAAA,WAAW,CAACC,UAAZ,GAAyB,UAASC,KAAT,EAAgB;AACvCC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD,GAFD;;AAIAJ,EAAAA,WAAW,CAACK,OAAZ,GAAsB,UAASH,KAAT,EAAgB;AACpC;AACAC,IAAAA,OAAO,CAACG,KAAR,CAAc,qBAAqBJ,KAAK,CAACK,MAAN,CAAaC,SAAhD;AACD,GAHD;;AAKA,MAAIC,WAAW,GAAGT,WAAW,CAACS,WAAZ,CAAwB,KAAxB,CAAlB;AACA,MAAIC,OAAO,GAAGD,WAAW,CAACE,GAAZ,CAAgBZ,IAAhB,CAAd;;AACAW,EAAAA,OAAO,CAACE,SAAR,GAAoB,UAASV,KAAT,EAAgB,CACnC,CADD;AAED;AAED,OAAO,SAASW,cAAT,CAAwBf,EAAxB,EAA4B;AACjC,MAAIE,WAAW,GAAG,KAAKc,KAAL,CAAWhB,EAAX,CAAcE,WAAd,CAA0B,KAA1B,EAAiC,UAAjC,CAAlB;AACA,MAAIS,WAAW,GAAGT,WAAW,CAACS,WAAZ,CAAwB,KAAxB,CAAlB;;AACAA,EAAAA,WAAW,CAACM,MAAZ,GAAqBH,SAArB,GAAiC,UAASV,KAAT,EAAgB;AAC/C,WAAOA,KAAK,CAACK,MAAN,CAAaS,MAApB;AACD,GAFD;AAGD;AAED,OAAO,SAASC,WAAT,CAAqBC,OAArB,EAA8B;AACnC,MAAIC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAAT,CAAX;AACAD,EAAAA,IAAI,CAACE,UAAL,CAAgBH,OAAhB;AACA,SAAOC,IAAI,CAACG,WAAL,GAAmBC,MAAnB,CAA0B,EAA1B,EAA8B,CAA9B,CAAP;AACD","sourcesContent":["export function insertToDatabase(db, data) {\n  var transaction = db.transaction([\"log\"], \"readwrite\");\n\n  transaction.oncomplete = function(event) {\n    console.log(\"All done!\");\n  };\n\n  transaction.onerror = function(event) {\n    // Generic error handler for all errors targeted at this database's request\n    console.error(\"Database error: \" + event.target.errorCode);    \n  };\n\n  var objectStore = transaction.objectStore(\"log\");\n  var request = objectStore.add(data);\n  request.onsuccess = function(event) {\n  }\n}\n\nexport function databaseGetAll(db) {\n  var transaction = this.props.db.transaction('log', 'readonly');\n  var objectStore = transaction.objectStore('log');\n  objectStore.getAll().onsuccess = function(event) {\n    return event.target.result\n  };\n}\n\nexport function formatEpoch(seconds) {\n  var date = new Date(0);\n  date.setSeconds(seconds);\n  return date.toISOString().substr(11, 8);\n}"]},"metadata":{},"sourceType":"module"}